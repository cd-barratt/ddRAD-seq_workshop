---
title: 'Setting up the data and scripts for analysis'
output:
  html_document: default
  word_document: default
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.width=12, fig.height=8, eval = FALSE,
                      echo=TRUE, warning=FALSE, message=FALSE,
                      tidy = TRUE, collapse = TRUE,
                      results = 'hold')
```
\
\

To get us set up all with files and directory structure that you'll need, let's do the following together in the EVE cluster...
  
\
\

### 1. Login to the EVE cluster

First we will login to EVE, using either Terminal if you're a mac user, or PuTTy if you're a Windows user. 
You might need to make sure your VPN is connected to access.

```{r}
# Open your Terminal (Mac) or PuTTy (Windows)
ssh USER@idiv-gateway.ufz.de
# [enter your password]
ssh frontend1
# [enter your password]
```

\
\

### 2. Copy the directory we provide in ```/public/``` to your own workspace (will take a few mins)
Now we'll copy the directory which is all ready to your own workspace. Ideally it's best practice to have data in a ```/data/``` directory but this will get quite complicated with all of us, so let's keep it simple and store in your own ```/work/$USER/``` directories
```{r}
# This line will copy all of the files and directories to your own work space (the ~ symbol )
cp -r /public/ddRAD-seq_workshop/ /work/$USER/

```

\
\

### 3. Move the subfolder 'scripts' from your ```/work/$USER/ddRAD-seq_workshop``` to ```/home/submit_scripts/ddRAD-seq_workshop```
We do however want to make sure that our submit scripts are kept away in a separate folder. 
If you already have a folder for submitting scripts then you can move it there, otherwise I suggest you make one as follows:

```{r}
# This code will make a ddRAD-seq_workshop folder inside a submit_scripts folder in your home directory (~/)
cd ~
mkdir /home/$USER/submit_scripts
mkdir /home/$USER/submit_scripts/ddRAD-seq_workshop
```

\

And then move the files as follows:
```{r}
# This line will move scripts to your own submit_scripts directory
mv -r /work/$USER/ddRAD-seq_workshop/scripts /home/$USER/submit_scripts/ddRAD-seq_workshop/

```

\

OK, so now you should have a ddRAD-seq_workshop folder in your ```/work/$USER``` directory and another one in your ```/home/$USER/submit_scripts``` directory. You can check this by navigating around using ```cd /work/$USER``` or ```cd /home/$USER/submit_scripts``` and using ```ls``` to view the subdirectories and files. You can move one directory up simply using ```cd ../```


\
\

### 4. Install packages needed in R

You can exit the EVE cluster now, and open RStudio in your computer. In the Console (bottom left panel usually), please copy and paste the following text, this will install all the packages you will need for the analyses (not so many for R). It might ask some questions on where to install from, you can say 1. All. If asked do you want to build this package from source you can say yes.
```{r}
# This line will install the required packages
install.packages(c('adegenet','LEA','dplyr'))

```




